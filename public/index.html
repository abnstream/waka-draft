<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>å’Œæ­Œãƒ‰ãƒ©ãƒ•ãƒˆ</title>
    <style>
        body { font-family: "Hiragino Mincho ProN", "Yu Mincho", serif; text-align: center; background-color: #fdfcf8; color: #333; margin: 0; padding-bottom: 50px;}
        .screen { display: none; padding: 20px; }
        .active { display: block; }
        
        button { padding: 10px 20px; font-size: 16px; cursor: pointer; margin: 10px; border-radius: 4px; border: 1px solid #888; background: #fff;}
        button:hover { background: #eee; }
        input { padding: 8px; font-size: 16px; }

        /* ã‚«ãƒ¼ãƒ‰ãƒ‡ã‚¶ã‚¤ãƒ³ */
        .card-btn {
            display: inline-block; margin: 5px; padding: 12px 18px;
            cursor: pointer; font-family: sans-serif; font-weight: bold;
            box-shadow: 2px 2px 2px rgba(0,0,0,0.1); border-radius: 6px;
        }
        .card-btn:hover { transform: translateY(-2px); box-shadow: 2px 4px 4px rgba(0,0,0,0.15); }
        .card-5 { background-color: #fff0f0; border: 2px solid #ff9999; color: #cc0000; }
        .card-7 { background-color: #f0f8ff; border: 2px solid #99ccff; color: #0000cc; }

        /* ã‚¹ãƒ­ãƒƒãƒˆ */
        #waka-slots { display: flex; justify-content: center; gap: 10px; margin: 20px 0; flex-wrap: wrap;}
        .slot {
            width: 100px; height: 140px; border: 2px dashed #aaa;
            display: flex; align-items: center; justify-content: center;
            background: #fff; writing-mode: vertical-rl; font-size: 18px;
            cursor: pointer;
        }
        .slot.filled { border-style: solid; background-color: #fff; }

        /* ç™ºè¡¨ã‚¨ãƒªã‚¢ */
        #presentation-area {
            background-color: #fff; border: 4px double #333; padding: 40px; margin: 20px auto;
            width: 80%; max-width: 600px; min-height: 400px;
            display: flex; flex-direction: row-reverse; justify-content: center; align-items: center; gap: 20px;
        }
        .waka-phrase {
            writing-mode: vertical-rl; font-size: 32px; line-height: 2; font-weight: bold;
            animation: fadeIn 1s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .author-name { font-size: 24px; margin-top: 20px; color: #555; }
        
        /* ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ */
        #controller-panel {
            border: 2px solid #d32f2f; padding: 20px; background: #fff5f5; margin: 20px auto; max-width: 500px; border-radius: 8px;
        }
        .next-phrase-preview { font-size: 24px; font-weight: bold; color: #d32f2f; margin: 15px 0;}

        /* çµæœç™ºè¡¨ãƒ»å±¥æ­´ç”»é¢ */
        #results-container, #history-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; margin-top: 20px; }
        
        .result-card {
            background: #fff; border: 1px solid #ccc; box-shadow: 3px 3px 6px rgba(0,0,0,0.2);
            padding: 20px; width: 180px; min-height: 300px;
            display: flex; flex-direction: column; align-items: center; position: relative;
        }
        .result-waka-content {
            flex-grow: 1; display: flex;
            gap: 8px; writing-mode: vertical-rl;
            font-size: 18px; line-height: 1.5; font-weight: bold;
            margin-bottom: 20px; justify-content: center;
        }
        .result-author { font-size: 16px; color: #555; border-top: 1px solid #eee; padding-top: 10px; width: 100%; }
        .flower-mark {
            position: absolute; top: -10px; right: -10px;
            width: 40px; height: 40px; background: #ffcc00; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 20px; color: #d32f2f; border: 2px solid #d32f2f;
            transform: rotate(15deg); box-shadow: 2px 2px 2px rgba(0,0,0,0.2);
        }

    </style>
</head>
<body>
    <h1>å’Œæ­Œãƒ‰ãƒ©ãƒ•ãƒˆ</h1>

    <div id="lobby-screen" class="screen active">
        <h3>åå‰ã‚’å…¥åŠ›ã—ã¦å‚åŠ </h3>
        <input type="text" id="username" placeholder="é›…å·ï¼ˆåå‰ï¼‰">
        <button onclick="joinGame()">ã„ã–ã€å‚ã‚‹</button>
        <ul id="player-list" style="list-style:none; padding:0;"></ul>
        <div id="start-area" style="display:none;">
            <button onclick="sendStartSignal()" style="background:#ffcccc;">ã‚²ãƒ¼ãƒ é–‹å§‹</button>
        </div>
        
        <hr style="margin-top: 30px;">
        <button onclick="openHistory()" style="background-color: #eee;">ç›´è¿‘ã®å’Œæ­Œã‚’è¦‹ã‚‹</button>
    </div>

    <div id="input-screen" class="screen">
        <h3>è¨€è‘‰ã‚’å…¥åŠ›</h3>
        <button onclick="autoFill()">è‡ªå‹•å…¥åŠ›ï¼ˆç™¾äººä¸€é¦–ï¼‰</button>
        <div id="inputs">
            <p style="color:#cc0000; font-weight:bold;">äº”æ–‡å­—ï¼ˆèµ¤ï¼‰</p>
            <input class="w5"><input class="w5"><input class="w5">
            <p style="color:#0000cc; font-weight:bold;">ä¸ƒæ–‡å­—ï¼ˆé’ï¼‰</p>
            <input class="w7"><input class="w7"><input class="w7"><input class="w7">
        </div>
        <button onclick="sendPack()">ãƒ‘ãƒƒã‚¯é€ä¿¡</button>
        <div id="wait-msg"></div>
    </div>

    <div id="draft-screen" class="screen">
        <h3>å›ã£ã¦ããŸè¨€è‘‰</h3>
        <div id="pack-area"></div>
        <hr>
        <h4>æ‰‹å…ƒã®è¨€è‘‰</h4>
        <div id="my-hand-display" style="font-size: 14px; color: #666;"></div>
    </div>

    <div id="compose-screen" class="screen">
        <h2 style="color:red;">ã‚ãªãŸã®ç•ªã§ã™ï¼</h2>
        <p>è¨€è‘‰ã‚’é¸ã‚“ã§é…ç½®ã—ã¦ãã ã•ã„ã€‚</p>
        <div id="waka-slots">
            <div class="slot" onclick="clearSlot(0)" id="slot-0">ï¼ˆäº”ï¼‰</div>
            <div class="slot" onclick="clearSlot(1)" id="slot-1">ï¼ˆä¸ƒï¼‰</div>
            <div class="slot" onclick="clearSlot(2)" id="slot-2">ï¼ˆäº”ï¼‰</div>
            <div class="slot" onclick="clearSlot(3)" id="slot-3">ï¼ˆä¸ƒï¼‰</div>
            <div class="slot" onclick="clearSlot(4)" id="slot-4">ï¼ˆä¸ƒï¼‰</div>
        </div>
        <button onclick="readyToPresent()">ã“ã‚Œã§ç™ºè¡¨ã¸é€²ã‚€</button>
        <div id="compose-hand-area"></div>
    </div>

    <div id="controller-screen" class="screen">
        <h2>ç™ºè¡¨ä¸­...</h2>
        <div id="controller-panel">
            <p>å£°ã«å‡ºã—ã¦èª­ã¿ä¸Šã’ãªãŒã‚‰ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãã ã•ã„</p>
            <hr>
            <p>æ¬¡ã¯...</p>
            <div id="preview-text" class="next-phrase-preview">...</div>
            <br>
            <button id="reveal-btn" onclick="revealNext()" style="font-size: 24px; padding: 20px; width:100%;">è¡¨ç¤ºã™ã‚‹ï¼</button>
        </div>
    </div>

    <div id="reveal-screen" class="screen">
        <h3 id="reveal-status-msg">å¾…æ©Ÿä¸­...</h3>
        <div id="presentation-area"></div>
        <div id="author-display" class="author-name"></div>
    </div>

    <div id="end-screen" class="screen">
        <h2>ã€ é¸å¥ä¼šï¼ˆçµæœç™ºè¡¨ï¼‰ ã€‘</h2>
        <p>å…¨å“¡ã®å’Œæ­ŒãŒå‡ºæƒã„ã¾ã—ãŸã€‚</p>
        <div id="results-container"></div>
        <br><br>
        <button onclick="location.reload()" style="background:#ffccaa;">å®´ã‚’çµ‚äº†ã—ã¦æœ€åˆã«æˆ»ã‚‹</button>
    </div>

    <div id="history-screen" class="screen">
        <h2>ã€ ç›´è¿‘ã®è© è‰ï¼ˆå±¥æ­´ï¼‰ ã€‘</h2>
        <p>æœ€è¿‘è© ã¾ã‚ŒãŸ50é¦–ã‚’è¡¨ç¤ºã—ã¦ã„ã¾ã™ã€‚</p>
        <button onclick="backToLobby()" style="margin-bottom: 20px;">æˆ»ã‚‹</button>
        
        <div id="history-container">
            </div>
        
        <br>
        <button onclick="backToLobby()">æˆ»ã‚‹</button>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();
        let myHand = []; 
        let composedWaka = [null, null, null, null, null];
        let revealIndex = 0;

        const audioStart = new Audio('/sounds/start.mp3');
        const audioTurn = new Audio('/sounds/turn.mp3');
        audioStart.volume = 0.5;
        audioTurn.volume = 0.5;

        function playSE(audioObj) {
            audioObj.currentTime = 0; 
            audioObj.play().catch(e => console.log("SEå†ç”Ÿã‚¨ãƒ©ãƒ¼:", e));
        }

        function showScreen(id) {
            document.querySelectorAll('.screen').forEach(el => el.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }
        function getColorClass(cardObj) {
            if (!cardObj) return "";
            return cardObj.type === 7 ? 'card-7' : 'card-5';
        }

        // --- å—ä¿¡å‡¦ç† ---
        socket.on('update_player_list', (names) => {
            document.getElementById('player-list').innerHTML = names.map(n => `<li>${n}</li>`).join("");
        });
        socket.on('error_msg', msg => alert(msg));
        
        socket.on('move_to_input', () => {
            playSE(audioStart);
            showScreen('input-screen');
        });

        socket.on('next_draft_turn', (data) => {
            if(data.pack.length > 0) playSE(audioTurn);
            showScreen('draft-screen');
            const area = document.getElementById('pack-area');
            area.innerHTML = "";
            if(data.pack.length === 0) area.innerHTML = "ä»–ã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å¾…ã¡...";
            else {
                data.pack.forEach((cardObj, idx) => {
                    const btn = document.createElement('button');
                    btn.className = `card-btn ${getColorClass(cardObj)}`;
                    btn.innerText = cardObj.text;
                    btn.onclick = () => pickCard(idx);
                    area.appendChild(btn);
                });
            }
            document.getElementById('my-hand-display').innerText = data.hand.map(c => c.text).join(" / ");
        });

        socket.on('start_reveal_phase', () => {
            showScreen('reveal-screen');
            resetRevealScreen("ç™ºè¡¨ã®æº–å‚™ä¸­...");
        });

        socket.on('update_reveal_status', (data) => {
            if(!data.isMe) {
                showScreen('reveal-screen');
                resetRevealScreen(`${data.currentName} ã•ã‚“ãŒã€æ•´ãˆã¦ã„ã¾ã™...`);
            }
        });

        socket.on('your_reveal_turn', (data) => {
            playSE(audioTurn); 
            myHand = data.hand;
            composedWaka = [null, null, null, null, null];
            showScreen('compose-screen');
            renderComposeHand();
            renderSlots();
        });

        socket.on('announce_start', (data) => {
            const isController = document.getElementById('controller-screen').classList.contains('active');
            if (!isController) {
                showScreen('reveal-screen');
                resetRevealScreen("ã€ç™ºè¡¨ã€‘");
                document.getElementById('author-display').innerText = `è© ã¿äººï¼š${data.name}`;
            }
        });

        socket.on('show_step', (cardObj) => {
            const area = document.getElementById('presentation-area');
            const span = document.createElement('span');
            span.className = 'waka-phrase';
            span.innerText = cardObj.text;
            area.appendChild(span); 
        });

        socket.on('game_over', (results) => {
            showScreen('end-screen');
            renderCards(results, 'results-container'); // å…±é€šé–¢æ•°åŒ–
        });

        // â˜…è¿½åŠ ï¼šå±¥æ­´ãƒ‡ãƒ¼ã‚¿å—ä¿¡
        socket.on('receive_history', (historyList) => {
            const container = document.getElementById('history-container');
            container.innerHTML = "";
            
            if (historyList.length === 0) {
                container.innerHTML = "<p>ã¾ã å±¥æ­´ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>";
                return;
            }
            
            // ãƒªã‚¶ãƒ«ãƒˆã¨åŒã˜å½¢å¼ã§ã‚«ãƒ¼ãƒ‰ã‚’è¡¨ç¤º
            renderCards(historyList, 'history-container');
        });

        // --- æ“ä½œå‡¦ç† ---
        function joinGame() {
            const name = document.getElementById('username').value;
            if(!name) return;
            socket.emit('join_game', name);
            document.getElementById('start-area').style.display = 'block';
        }
        function sendStartSignal() { socket.emit('start_game_signal'); }

        // â˜…å±¥æ­´ãƒœã‚¿ãƒ³ã®å‡¦ç†
        function openHistory() {
            socket.emit('request_history'); // ã‚µãƒ¼ãƒãƒ¼ã¸è¦æ±‚
            showScreen('history-screen');
        }
        function backToLobby() {
            showScreen('lobby-screen');
        }

        // ã‚«ãƒ¼ãƒ‰æç”»ã®å…±é€šé–¢æ•°ï¼ˆãƒªã‚¶ãƒ«ãƒˆã¨å±¥æ­´ã§ä½¿ç”¨ï¼‰
        function renderCards(dataList, containerId) {
            const container = document.getElementById(containerId);
            container.innerHTML = "";

            dataList.forEach(item => {
                const card = document.createElement('div');
                card.className = 'result-card';
                
                const contentDiv = document.createElement('div');
                contentDiv.className = 'result-waka-content';
                
                item.waka.forEach(wordObj => {
                    const span = document.createElement('span');
                    span.innerText = wordObj.text;
                    contentDiv.appendChild(span);
                });

                const nameDiv = document.createElement('div');
                nameDiv.className = 'result-author';
                nameDiv.innerText = item.name;

                const flower = document.createElement('div');
                flower.className = 'flower-mark';
                flower.innerText = "ğŸ’®";

                card.appendChild(flower);
                card.appendChild(contentDiv);
                card.appendChild(nameDiv);
                container.appendChild(card);
            });
        }

        function sendPack() {
            const w5 = Array.from(document.querySelectorAll('.w5')).map(i => ({ text: i.value, type: 5 }));
            const w7 = Array.from(document.querySelectorAll('.w7')).map(i => ({ text: i.value, type: 7 }));
            socket.emit('submit_pack', [...w5, ...w7]);
            document.getElementById('inputs').innerHTML = "";
            document.getElementById('wait-msg').innerText = "å¾…æ©Ÿä¸­...";
        }

        function pickCard(index) {
            socket.emit('pick_card', index);
            document.getElementById('pack-area').innerHTML = "å¾…æ©Ÿä¸­...";
        }

        function addToSlot(cardObj, handIndex) {
            const emptyIndex = composedWaka.findIndex(w => w === null);
            if (emptyIndex === -1) return;
            composedWaka[emptyIndex] = cardObj;
            myHand[handIndex] = null;
            renderSlots();
            renderComposeHand();
        }
        function clearSlot(slotIndex) {
            const cardObj = composedWaka[slotIndex];
            if (!cardObj) return;
            const emptyHandIdx = myHand.findIndex(h => h === null);
            if (emptyHandIdx !== -1) myHand[emptyHandIdx] = cardObj;
            else myHand.push(cardObj);
            composedWaka[slotIndex] = null;
            renderSlots();
            renderComposeHand();
        }
        
        function renderSlots() {
            const labels = ["ï¼ˆäº”ï¼‰", "ï¼ˆä¸ƒï¼‰", "ï¼ˆäº”ï¼‰", "ï¼ˆä¸ƒï¼‰", "ï¼ˆä¸ƒï¼‰"];
            composedWaka.forEach((cardObj, idx) => {
                const el = document.getElementById(`slot-${idx}`);
                el.className = 'slot'; 
                if (cardObj) { 
                    el.innerText = cardObj.text; 
                    el.classList.add('filled');
                    el.classList.add(getColorClass(cardObj));
                } else { 
                    el.innerText = labels[idx]; 
                }
            });
        }
        
        function renderComposeHand() {
            const area = document.getElementById('compose-hand-area');
            area.innerHTML = "";
            myHand.forEach((cardObj, idx) => {
                if(cardObj === null) return;
                const btn = document.createElement('button');
                btn.className = `card-btn ${getColorClass(cardObj)}`;
                btn.innerText = cardObj.text;
                btn.onclick = () => addToSlot(cardObj, idx);
                area.appendChild(btn);
            });
        }

        function readyToPresent() {
            if (composedWaka.includes(null)) {
                alert("è¨€è‘‰ãŒåŸ‹ã¾ã£ã¦ã„ã¾ã›ã‚“ï¼");
                return;
            }
            socket.emit('ready_to_present', composedWaka);
            revealIndex = 0;
            showScreen('controller-screen');
            updateControllerUI();
        }

        function revealNext() {
            if (revealIndex < composedWaka.length) {
                const cardObj = composedWaka[revealIndex];
                socket.emit('reveal_step', cardObj);
                revealIndex++;
                updateControllerUI();
            } else {
                socket.emit('finish_turn');
            }
        }

        function updateControllerUI() {
            const btn = document.getElementById('reveal-btn');
            const preview = document.getElementById('preview-text');
            if (revealIndex < composedWaka.length) {
                const cardObj = composedWaka[revealIndex];
                preview.innerText = `æ¬¡ã¯... ã€Œ${cardObj.text}ã€`;
                preview.style.color = cardObj.type === 7 ? '#0000cc' : '#cc0000';
                btn.innerText = "è¡¨ç¤ºã™ã‚‹ï¼";
                btn.disabled = false;
                btn.style.backgroundColor = "#fff";
            } else {
                preview.innerText = "å…¨ã¦è¡¨ç¤ºã—ã¾ã—ãŸ";
                preview.style.color = "#333";
                btn.innerText = "ç™ºè¡¨ã‚’çµ‚äº†ã—ã¦æ¬¡ã®äººã¸";
                btn.style.backgroundColor = "#ddd";
            }
        }

        function resetRevealScreen(msg) {
            document.getElementById('reveal-status-msg').innerText = msg;
            document.getElementById('presentation-area').innerHTML = "";
            document.getElementById('author-display').innerText = "";
        }

// --- â˜…è‡ªå‹•å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ï¼ˆå¤å…¸ Ã— ãƒãƒƒãƒˆã‚¹ãƒ©ãƒ³ã‚° é—‡é‹MIXç‰ˆï¼‰ ---
        const WORDS_5 = [
            // --- â˜…ç™¾äººä¸€é¦–ï¼ˆæœ‰åã©ã“ã‚ï¼‰ ---
            "åƒæ—©ã¶ã‚‹", "èŠ±ã®è‰²ã¯", "å›ãŒãŸã‚", "ä¹…æ–¹ã®", "å¥¥å±±ã«",
            "ç§‹ã®ç”°ã®", "å¤©ã®åŸ", "ã‚ãã‚Šã‚ã²ã¦", "ã„ã«ã—ã¸ã®", "ç‰ã®ç·’ã‚ˆ",

            // --- çµã³ãƒ»æ„Ÿæƒ…ãƒ»çŠ¶æ…‹ ---
            "ã ã£ãŸä»¶", "ã—ã¦ã¿ãŸ", "ãƒã‚ºã£ãŸ", "è‰ç”Ÿãˆã‚‹", "è©°ã‚“ã§ã‚‹",
            "å°Šã™ã", "ç„¡ç†ã‚²ãƒ¼", "é€ã£ã¦ã‚ˆã—", "é¡”ãŒè‰¯ã„", "ç¢ºå¤‰ä¸­",
            "æ”¾é€äº‹æ•…", "å€è¿”ã—", "å„ªå‹ã ", "ã‚ªãƒ¯ã‚³ãƒ³åŒ–", "çˆ†æ­»ã—ãŸ",
            "æ²¼ã£ãŸã‚", "çŸ¥ã‚‰ã‚“ã‘ã©", "ãã‚Œãªãƒ¼", "ã‚ã‹ã‚Šã¿", "ä¸å¯é¿",
            "çœŸé¡”ã§ã™", "è™šç„¡ã«ãªã‚‹", "ç¥å›é¿", "æœ«æœŸã§ã™", "å…¨è£¸å¾…æ©Ÿ",

            // --- åè©ãƒ»ä¸»èª ---
            "ç•°ä¸–ç•Œã§", "æ¨ã—ã®å­ãŒ", "ç„¡åŒã™ã‚‹", "é»’æ­´å²", "å‹‡è€…ã‚ˆã‚Š",
            "é­”ç‹ã¾ã§", "ã‚¹ãƒ©ã‚¤ãƒ ãŒ", "è»¢å£²ãƒ¤ãƒ¼", "AIãŒ", "ç· ã‚åˆ‡ã‚ŠãŒ",
            "ãƒ¡ãƒ³ãƒ˜ãƒ©ãŒ", "é™°ã‚­ãƒ£ã ã—", "ç¤¾ç•œã ã—", "æ¦‚å¿µãŒ", "èªå½™åŠ›ãŒ",
            "å…¬å¼ãŒ", "é‹å–¶ãŒ", "ã‚¬ãƒãƒ£é‹ãŒ", "ã‚µã‚¦ãƒŠã«ã¦", "çŒ«ãƒŸãƒ¼ãƒ ",
            "ä¸Šå¸ã‹ã‚‰", "ç¢ºå®šç”³å‘Š", "YouTuber", "ã‚¹ãƒ‘ãƒãƒ£ãŒ", "ã‚¢ãƒ³ãƒãŒ"
        ];

        const WORDS_7 = [
            // --- â˜…ç™¾äººä¸€é¦–ï¼ˆæœ‰åã©ã“ã‚ï¼‰ ---
            "ç¥ã®ã¾ã«ã¾ã«", "ã‹ã‚‰ãã‚Œãªã„ã«", "å¤¢ã®é€šã²è·¯", "å¯Œå£«ã®é«˜å¶ºã«", "è¡£ã»ã™ã¦ãµ",
            "ã‚ãŒèº«ä¸–ã«ãµã‚‹", "æ»ã®ç™½ç³¸", "ã‚ã¾ã¤ç©ºãªã‚‹", "ã¿ã‹ã•ã®å±±ã«", "ä¸–ã‚’ã†ã¢å±±ã¨",

            // --- ç•°ä¸–ç•Œãƒ»ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼ãƒ»ãƒ©ãƒãƒ™é¢¨ ---
            "è»¢ç”Ÿã—ãŸã‚‰", "ãƒ¬ãƒ™ãƒ«ãƒãƒƒã‚¯ã‚¹ã§", "è¿½æ”¾ã•ã‚ŒãŸ", "å©šç´„ç ´æ£„ã§", "æ‚ªå½¹ä»¤å¬¢",
            "ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³é£¯ã‚’", "ã‚¹ãƒ­ãƒ¼ãƒ©ã‚¤ãƒ•ã‚’", "ãƒãƒ¼ãƒ¬ãƒ å±•é–‹", "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¦‹ãŸã‚‰", "é­”æ³•ãŒä½¿ãˆã¦",
            "æœ€å¼·ã™ãã¦", "ã–ã¾ãå±•é–‹", "ä¿ºã ã‘ä½¿ãˆã‚‹", "ã‚¹ã‚­ãƒ«ç²å¾—", "è£æŠ€ã¤ã‹ã£ã¦",
            "ãƒ¬ãƒ™ãƒ«ï¼‘ã‹ã‚‰", "é­”åŠ›ã‚¼ãƒ­ã§ã‚‚", "ãƒ‘ãƒ¼ãƒ†ã‚£è¿½æ”¾", "å‹‡è€…è¾ã‚ã¾ã™", "ãƒãƒ¼ãƒˆèƒ½åŠ›",

            // --- ç¾ä»£ç¤¾ä¼šãƒ»ãƒãƒƒãƒˆãƒ»æ—¥å¸¸ ---
            "å…¬å¼ãŒç—…æ°—", "ã‚¹ãƒ‘ãƒãƒ£æŠ•ã’éŠ­", "ãƒãƒ£ãƒ³ãƒãƒ«ç™»éŒ²", "ã‚µãƒ¼ãƒãƒ¼ãƒ€ã‚¦ãƒ³", "ç‚ä¸Šæ¡ˆä»¶",
            "ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯", "æœ‰çµ¦æ¶ˆåŒ–", "ã‚¿ã‚¹ã‚¯å¤šã™ã", "é€²æ—ã©ã†ã§ã™", "æ„è­˜é«˜ãã¦",
            "è‡ªå·±è‚¯å®šæ„Ÿ", "å®Ÿå®¶ã®ã‚ˆã†ãª", "ãƒã‚¦ãƒ³ãƒˆå–ã£ã¦", "æ¨ã—ãŒå°Šã„", "ãƒ•ãƒ©ã‚°å›å",
            "å˜ä½è½ã¨ã—ãŸ", "çµ‚é›»é€ƒã—", "å¸ƒå›£ã‹ã‚‰å‡ºã¬", "ãƒ©ãƒ¼ãƒ¡ãƒ³é£Ÿã¹ãŸã„", "ã‚µã‚¦ãƒŠã§æ•´ã†",
            "è¨˜æ†¶ãŒãªã„ãª", "è²¡å¸ƒã‚’è½ã¨ã™", "ã‚¹ãƒãƒ›ã®ç”»é¢", "å›ç·šå¼±ã„", "ãƒ­ã‚°ã‚¤ãƒ³ãƒœãƒ¼ãƒŠã‚¹",
            "ãƒ¡ãƒ³ã‚¿ãƒ«è±†è…", "é»’æ­´å²ã ã‚ˆ", "æ·±å¤œã®ãƒ†ãƒ³ã‚·ãƒ§ãƒ³", "æ˜æ—¥ã‹ã‚‰æœ¬æ°—", "æœˆæ›œã¤ã‚‰ã„"
        ];

        function autoFill() {
            document.querySelectorAll('.w5').forEach(input => {
                input.value = WORDS_5[Math.floor(Math.random() * WORDS_5.length)];
            });
            document.querySelectorAll('.w7').forEach(input => {
                input.value = WORDS_7[Math.floor(Math.random() * WORDS_7.length)];
            });
        }
    </script>
</body>
</html>